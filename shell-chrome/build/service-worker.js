/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!*******************************!*\
  !*** ./src/service-worker.js ***!
  \*******************************/
// the background script runs all the time and serves as a central message
// hub for each vue devtools (panel + proxy + backend) instance.
const ports = {};
chrome.runtime.onConnect.addListener(port => {
  let tab;
  let name;

  if (isNumeric(port.name)) {
    tab = port.name;
    name = 'devtools';
    installProxy(+port.name);
  } else {
    tab = port.sender.tab.id;
    name = 'backend';
  }

  if (!ports[tab]) {
    ports[tab] = {
      devtools: null,
      backend: null
    };
  }

  ports[tab][name] = port;

  if (ports[tab].devtools && ports[tab].backend) {
    doublePipe(tab, ports[tab].devtools, ports[tab].backend);
  }
});

function isNumeric(str) {
  return `${+str}` === str;
}

function installProxy(tabId) {
  chrome.scripting.executeScript({
    target: {
      tabId
    },
    files: ['build/proxy.js']
  }, res => {
    if (!res) {
      ports[tabId].devtools.postMessage('proxy-fail');
    } else {
      if (true) {
        // eslint-disable-next-line no-console
        console.log(`injected proxy to tab ${tabId}`);
      }
    }
  });
}

function doublePipe(id, one, two) {
  one.onMessage.addListener(lOne);

  function lOne(message) {
    if (message.event === 'log') {
      // eslint-disable-next-line no-console
      return console.log(`tab ${id}`, message.payload);
    }

    if (true) {
      // eslint-disable-next-line no-console
      console.log('%cdevtools -> backend', 'color:#888;', message);
    }

    two.postMessage(message);
  }

  two.onMessage.addListener(lTwo);

  function lTwo(message) {
    if (message.event === 'log') {
      // eslint-disable-next-line no-console
      return console.log(`tab ${id}`, message.payload);
    }

    if (true) {
      // eslint-disable-next-line no-console
      console.log('%cbackend -> devtools', 'color:#888;', message);
    }

    one.postMessage(message);
  }

  function shutdown() {
    if (true) {
      // eslint-disable-next-line no-console
      console.log(`tab ${id} disconnected.`);
    }

    one.onMessage.removeListener(lOne);
    two.onMessage.removeListener(lTwo);
    one.disconnect();
    two.disconnect();
    ports[id] = null;
  }

  one.onDisconnect.addListener(shutdown);
  two.onDisconnect.addListener(shutdown);

  if (true) {
    // eslint-disable-next-line no-console
    console.log(`tab ${id} connected.`);
  }
}

chrome.runtime.onMessage.addListener((req, sender) => {
  if (sender.tab && req.vueDetected) {
    const suffix = req.nuxtDetected ? '.nuxt' : '';
    chrome.action.setIcon({
      tabId: sender.tab.id,
      path: {
        16: chrome.runtime.getURL(`icons/16${suffix}.png`),
        48: chrome.runtime.getURL(`icons/48${suffix}.png`),
        128: chrome.runtime.getURL(`icons/128${suffix}.png`)
      }
    }, () => {// noop
    });
    chrome.action.setPopup({
      tabId: sender.tab.id,
      popup: chrome.runtime.getURL(req.devtoolsEnabled ? `popups/enabled${suffix}.html` : `popups/disabled${suffix}.html`)
    }, () => {// noop
    });
  }

  if (req.action === 'vue-take-screenshot' && sender.envType === 'devtools_child') {
    browser.tabs.captureVisibleTab({
      format: 'png'
    }).then(dataUrl => {
      browser.runtime.sendMessage({
        action: 'vue-screenshot-result',
        id: req.id,
        dataUrl
      });
    });
  }
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQzdCLEVBRmtCO1FBRzFCOEM7TUFIMEIsQ0FBNUI7SUFLRCxDQVJEO0VBU0Q7QUFDRixDQWpDRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHZ1ZS1kZXZ0b29scy9zaGVsbC1jaHJvbWUvLi9zcmMvc2VydmljZS13b3JrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGhlIGJhY2tncm91bmQgc2NyaXB0IHJ1bnMgYWxsIHRoZSB0aW1lIGFuZCBzZXJ2ZXMgYXMgYSBjZW50cmFsIG1lc3NhZ2Vcbi8vIGh1YiBmb3IgZWFjaCB2dWUgZGV2dG9vbHMgKHBhbmVsICsgcHJveHkgKyBiYWNrZW5kKSBpbnN0YW5jZS5cblxuY29uc3QgcG9ydHMgPSB7fVxuXG5jaHJvbWUucnVudGltZS5vbkNvbm5lY3QuYWRkTGlzdGVuZXIoKHBvcnQpID0+IHtcbiAgbGV0IHRhYlxuICBsZXQgbmFtZVxuICBpZiAoaXNOdW1lcmljKHBvcnQubmFtZSkpIHtcbiAgICB0YWIgPSBwb3J0Lm5hbWVcbiAgICBuYW1lID0gJ2RldnRvb2xzJ1xuICAgIGluc3RhbGxQcm94eSgrcG9ydC5uYW1lKVxuICB9XG4gIGVsc2Uge1xuICAgIHRhYiA9IHBvcnQuc2VuZGVyLnRhYi5pZFxuICAgIG5hbWUgPSAnYmFja2VuZCdcbiAgfVxuXG4gIGlmICghcG9ydHNbdGFiXSkge1xuICAgIHBvcnRzW3RhYl0gPSB7XG4gICAgICBkZXZ0b29sczogbnVsbCxcbiAgICAgIGJhY2tlbmQ6IG51bGwsXG4gICAgfVxuICB9XG4gIHBvcnRzW3RhYl1bbmFtZV0gPSBwb3J0XG5cbiAgaWYgKHBvcnRzW3RhYl0uZGV2dG9vbHMgJiYgcG9ydHNbdGFiXS5iYWNrZW5kKSB7XG4gICAgZG91YmxlUGlwZSh0YWIsIHBvcnRzW3RhYl0uZGV2dG9vbHMsIHBvcnRzW3RhYl0uYmFja2VuZClcbiAgfVxufSlcblxuZnVuY3Rpb24gaXNOdW1lcmljKHN0cikge1xuICByZXR1cm4gYCR7K3N0cn1gID09PSBzdHJcbn1cblxuZnVuY3Rpb24gaW5zdGFsbFByb3h5KHRhYklkKSB7XG4gIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG4gICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgZmlsZXM6IFsnYnVpbGQvcHJveHkuanMnXSxcbiAgfSwgKHJlcykgPT4ge1xuICAgIGlmICghcmVzKSB7XG4gICAgICBwb3J0c1t0YWJJZF0uZGV2dG9vbHMucG9zdE1lc3NhZ2UoJ3Byb3h5LWZhaWwnKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUubG9nKGBpbmplY3RlZCBwcm94eSB0byB0YWIgJHt0YWJJZH1gKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gZG91YmxlUGlwZShpZCwgb25lLCB0d28pIHtcbiAgb25lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihsT25lKVxuICBmdW5jdGlvbiBsT25lKG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5ldmVudCA9PT0gJ2xvZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICByZXR1cm4gY29uc29sZS5sb2coYHRhYiAke2lkfWAsIG1lc3NhZ2UucGF5bG9hZClcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmxvZygnJWNkZXZ0b29scyAtPiBiYWNrZW5kJywgJ2NvbG9yOiM4ODg7JywgbWVzc2FnZSlcbiAgICB9XG4gICAgdHdvLnBvc3RNZXNzYWdlKG1lc3NhZ2UpXG4gIH1cbiAgdHdvLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihsVHdvKVxuICBmdW5jdGlvbiBsVHdvKG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5ldmVudCA9PT0gJ2xvZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICByZXR1cm4gY29uc29sZS5sb2coYHRhYiAke2lkfWAsIG1lc3NhZ2UucGF5bG9hZClcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmxvZygnJWNiYWNrZW5kIC0+IGRldnRvb2xzJywgJ2NvbG9yOiM4ODg7JywgbWVzc2FnZSlcbiAgICB9XG4gICAgb25lLnBvc3RNZXNzYWdlKG1lc3NhZ2UpXG4gIH1cbiAgZnVuY3Rpb24gc2h1dGRvd24oKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmxvZyhgdGFiICR7aWR9IGRpc2Nvbm5lY3RlZC5gKVxuICAgIH1cbiAgICBvbmUub25NZXNzYWdlLnJlbW92ZUxpc3RlbmVyKGxPbmUpXG4gICAgdHdvLm9uTWVzc2FnZS5yZW1vdmVMaXN0ZW5lcihsVHdvKVxuICAgIG9uZS5kaXNjb25uZWN0KClcbiAgICB0d28uZGlzY29ubmVjdCgpXG4gICAgcG9ydHNbaWRdID0gbnVsbFxuICB9XG4gIG9uZS5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoc2h1dGRvd24pXG4gIHR3by5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIoc2h1dGRvd24pXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyhgdGFiICR7aWR9IGNvbm5lY3RlZC5gKVxuICB9XG59XG5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxLCBzZW5kZXIpID0+IHtcbiAgaWYgKHNlbmRlci50YWIgJiYgcmVxLnZ1ZURldGVjdGVkKSB7XG4gICAgY29uc3Qgc3VmZml4ID0gcmVxLm51eHREZXRlY3RlZCA/ICcubnV4dCcgOiAnJ1xuXG4gICAgY2hyb21lLmFjdGlvbi5zZXRJY29uKHtcbiAgICAgIHRhYklkOiBzZW5kZXIudGFiLmlkLFxuICAgICAgcGF0aDoge1xuICAgICAgICAxNjogY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKGBpY29ucy8xNiR7c3VmZml4fS5wbmdgKSxcbiAgICAgICAgNDg6IGNocm9tZS5ydW50aW1lLmdldFVSTChgaWNvbnMvNDgke3N1ZmZpeH0ucG5nYCksXG4gICAgICAgIDEyODogY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKGBpY29ucy8xMjgke3N1ZmZpeH0ucG5nYCksXG4gICAgICB9LFxuICAgIH0sICgpID0+IHtcbiAgICAgIC8vIG5vb3BcbiAgICB9KVxuICAgIGNocm9tZS5hY3Rpb24uc2V0UG9wdXAoe1xuICAgICAgdGFiSWQ6IHNlbmRlci50YWIuaWQsXG4gICAgICBwb3B1cDogY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKHJlcS5kZXZ0b29sc0VuYWJsZWQgPyBgcG9wdXBzL2VuYWJsZWQke3N1ZmZpeH0uaHRtbGAgOiBgcG9wdXBzL2Rpc2FibGVkJHtzdWZmaXh9Lmh0bWxgKSxcbiAgICB9LCAoKSA9PiB7XG4gICAgICAvLyBub29wXG4gICAgfSlcbiAgfVxuXG4gIGlmIChyZXEuYWN0aW9uID09PSAndnVlLXRha2Utc2NyZWVuc2hvdCcgJiYgc2VuZGVyLmVudlR5cGUgPT09ICdkZXZ0b29sc19jaGlsZCcpIHtcbiAgICBicm93c2VyLnRhYnMuY2FwdHVyZVZpc2libGVUYWIoe1xuICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICB9KS50aGVuKChkYXRhVXJsKSA9PiB7XG4gICAgICBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBhY3Rpb246ICd2dWUtc2NyZWVuc2hvdC1yZXN1bHQnLFxuICAgICAgICBpZDogcmVxLmlkLFxuICAgICAgICBkYXRhVXJsLFxuICAgICAgfSlcbiAgICB9KVxuICB9XG59KVxuIl0sIm5hbWVzIjpbInBvcnRzIiwiY2hyb21lIiwicnVudGltZSIsIm9uQ29ubmVjdCIsImFkZExpc3RlbmVyIiwicG9ydCIsInRhYiIsIm5hbWUiLCJpc051bWVyaWMiLCJpbnN0YWxsUHJveHkiLCJzZW5kZXIiLCJpZCIsImRldnRvb2xzIiwiYmFja2VuZCIsImRvdWJsZVBpcGUiLCJzdHIiLCJ0YWJJZCIsInNjcmlwdGluZyIsImV4ZWN1dGVTY3JpcHQiLCJ0YXJnZXQiLCJmaWxlcyIsInJlcyIsInBvc3RNZXNzYWdlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyIsIm9uZSIsInR3byIsIm9uTWVzc2FnZSIsImxPbmUiLCJtZXNzYWdlIiwiZXZlbnQiLCJwYXlsb2FkIiwibFR3byIsInNodXRkb3duIiwicmVtb3ZlTGlzdGVuZXIiLCJkaXNjb25uZWN0Iiwib25EaXNjb25uZWN0IiwicmVxIiwidnVlRGV0ZWN0ZWQiLCJzdWZmaXgiLCJudXh0RGV0ZWN0ZWQiLCJhY3Rpb24iLCJzZXRJY29uIiwicGF0aCIsImdldFVSTCIsInNldFBvcHVwIiwicG9wdXAiLCJkZXZ0b29sc0VuYWJsZWQiLCJlbnZUeXBlIiwiYnJvd3NlciIsInRhYnMiLCJjYXB0dXJlVmlzaWJsZVRhYiIsImZvcm1hdCIsInRoZW4iLCJkYXRhVXJsIiwic2VuZE1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9